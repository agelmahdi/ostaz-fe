// CountDown Clock
// Version   : 1.0.1
// Developer : Ekrem KAYA
// Website   : http://e-piksel.com
// GitHub    : https://github.com/epiksel/countdown

!(function (t) {
  t.fn.countdown = function (e, n) {
    function o () {
      const t = new Date(r.date)
      const e = s()
      const o = t - e
      if (o < 0) { return clearInterval(d), void (n && typeof n === 'function' && n()) }
      const a = 1e3
      const f = 60 * a
      const u = 60 * f
      const l = 24 * u
      let c = Math.floor(o / l)
      let h = Math.floor((o % l) / u)
      let x = Math.floor((o % u) / f)
      let g = Math.floor((o % f) / a)
      const y = c === 1 ? r.day : r.days
      const m = h === 1 ? r.hour : r.hours
      const v = x === 1 ? r.minute : r.minutes
      const D = g === 1 ? r.second : r.seconds
      ;(c = String(c).length >= 2 ? c : '0' + c),
      (h = String(h).length >= 2 ? h : '0' + h),
      (x = String(x).length >= 2 ? x : '0' + x),
      (g = String(g).length >= 2 ? g : '0' + g),
      i.find('.days').text(c),
      i.find('.hours').text(h),
      i.find('.minutes').text(x),
      i.find('.seconds').text(g),
      i.find('.days_text').text(y),
      i.find('.hours_text').text(m),
      i.find('.minutes_text').text(v),
      i.find('.seconds_text').text(D)
    }
    var r = t.extend(
      {
        date: null,
        offset: null,
        day: 'Day',
        days: 'Days',
        hour: 'Hour',
        hours: 'Hours',
        minute: 'Minute',
        minutes: 'Minutes',
        second: 'Second',
        seconds: 'Seconds'
      },
      e
    )
    r.date || t.error('Date is not defined.'),
    Date.parse(r.date) ||
        t.error(
          'Incorrect date format, it should look like this, 12/24/2012 12:00:00.'
        )
    var i = this
    var s = function () {
      const t = new Date()
      const e = t.getTime() + 6e4 * t.getTimezoneOffset()
      const n = new Date(e + 36e5 * r.offset)
      return n
    }
    var d = setInterval(o, 1e3)
  }
})(jQuery)
